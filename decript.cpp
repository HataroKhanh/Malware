#include "CPP/header/decript.h"
#include "khanhyeucau.h"
// Thuật toán Caesar
char undochar(char &c, int &numpush) { return c + numpush; }

// Chuyển STRING KEY thành int
int revertkey(std::string &s) {
  std::string key;
  int num = 2;
  for (char &i : s) {
    key += i + static_cast<char>(num);
  }
  int keyf = key[0] + key[1];
  return keyf;
}

// Decript
void decript(std::vector<std::string> files, int a) {
  for (std::string &s : files) {
    std::ifstream input(s);
    std::string line;
    std::vector<std::string> strings;
    if (!input) {
      continue;
    }

    while (getline(input, line)) {
      for (char &i : line) {
        i = undochar(i, a);
      }
      strings.push_back(line);
    }

    std::ofstream output(s);
    for (int i = 0; i < strings.size(); i++) {
      output << strings[i] << '\n';
    }
  }
}
